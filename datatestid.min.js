(function(){const e="data-testid-control-bar",t=document.getElementById(e);t&&t.remove();const n=document.createElement("style");n.textContent=`#${e}{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,0.95);color:#333;padding:12px;border-radius:8px;box-shadow:0 4px 16px rgba(0,0,0,0.2);z-index:10000;display:flex;align-items:center;gap:8px;font-family:sans-serif;flex-wrap:wrap}#${e} .help-panel{position:absolute;top:100%;left:0;background:#fff;color:#333;padding:8px;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,0.2);font-size:.8rem;white-space:normal;max-width:300px;display:none;z-index:10001}#${e} button,#${e} select{background:#007bff;border:none;color:#fff;padding:6px 10px;border-radius:4px;cursor:pointer;font-size:.8rem;transition:background .2s}#${e} button:hover,#${e} select:hover{background:#0056b3}#${e} input{flex:1;padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:.8rem}#${e} .message{margin-left:auto;font-size:.8rem}#${e} a{color:#007bff;text-decoration:none;font-size:1rem}.testid-label{position:absolute;top:-1.2em;left:0;background:rgba(255,255,0,0.7);color:#000;padding:2px 4px;font-size:10px;border-radius:4px;cursor:pointer;z-index:10000}`;document.head.appendChild(n);const o=document.createElement("div");o.id=e;let c={color:"SlateBlue",style:"dashed"};function i(e,t){d.style.color=t?"Tomato":"DodgerBlue",d.textContent=e,setTimeout(()=>d.textContent="",5e3)}function l(){document.querySelectorAll(".testid-label").forEach(e=>e.remove()),document.querySelectorAll("[data-testid]").forEach(e=>e.style.outline="")}function r(e){e.forEach(e=>{const t=e.getAttribute("data-testid");if(t){const n=getComputedStyle(e).position;"static"===n&&(e.style.position="relative");const o=document.createElement("span");o.className="testid-label",o.textContent=t,o.onclick=()=>{navigator.clipboard.writeText(t),i(`Copied: ${t}`)},e.appendChild(o)}})}const a=document.createElement("button");a.textContent="❔";const s=document.createElement("div");s.className="help-panel",s.innerHTML=`• Click <b>Highlight</b> to outline all data-testid elements<br>• Click labels to copy individual IDs<br>• Use <b>Copy IDs</b> for bulk copy<br>• Pick colors/styles via selectors<br>• Use <b>Validate</b> to highlight custom selector<br>• Click <b>Remove</b> to clear`,a.onclick=()=>{s.style.display="block"===s.style.display?"none":"block"};const h=document.createElement("button");h.textContent="Highlight",h.onclick=()=>{l();const e=document.querySelectorAll("[data-testid]");e.length?(e.forEach(e=>e.style.outline=`2px ${c.style} ${c.color}`),r(e),i(`${e.length} highlighted`)):i("No elements found",1)};const p=document.createElement("button");p.textContent="Copy IDs",p.onclick=()=>{const e=[...document.querySelectorAll("[data-testid]")].map(e=>e.getAttribute("data-testid"));e.length?navigator.clipboard.writeText(e.join("\n"))&&i("Copied to clipboard"):i("No IDs to copy",1)};const u=document.createElement("button");u.textContent="Remove",u.onclick=()=>{l(),i("Highlights removed")};const m=document.createElement("span");m.textContent="|",m.style.margin="0 6px";const g=document.createElement("select");["SlateBlue","Tomato","LimeGreen","Orange"].forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,t.style.color=e,g.append(t)}),g.onchange=()=>c.color=g.value;const f=document.createElement("select");["dashed","solid","dotted","double"].forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,f.append(t)}),f.onchange=()=>c.style=f.value;const v=document.createElement("span");v.textContent="|",v.style.margin="0 6px";const y=document.createElement("input");y.type="text",y.placeholder="CSS selector";const b=document.createElement("button");b.textContent="Validate",b.onclick=()=>{l();const e=y.value.trim();if(!e)return i("Enter selector",1);let t;try{t=document.querySelectorAll(e)}catch{return i("Invalid selector",1)}t.length?(t.forEach(e=>e.style.outline=`2px ${c.style} ${c.color}`),r(t),i(`${t.length} highlighted`)):i("No match",1)};const w=document.createElement("button");w.textContent="Close",w.onclick=()=>o.remove();const x=document.createElement("a");x.textContent="ℹ️",x.href="https://github.com/gaurangpb/",x.target="_blank";const d=document.createElement("div");d.className="message",o.append(a,s,h,p,u,m,g,f,v,y,b,w,x,d),document.body.appendChild(o)})();